
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//RU">
<HTML><HEAD><TITLE>Лабораторная работа N 5</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1251">
<STYLE type="text/css">
  s {text-decoration: none;  /* убрать зачеркивание */
     font-style:italic;      /* сделать курсив */
     font-weight: bold;      /* сделать жирный шрифт */
     } 
</STYLE>
</HEAD>

<BODY LEFTMARGIN=10 TOPMARGIN=0  BGCOLOR=#FFEFCF TEXT=#000000 LINK=#006600 VLINK=#330099 ALINK=#ff0000>
<hr noshade size=3><center>
<h3>Сибирский государственный университет <br>телекоммуникаций и информатики
</h3>
</center>

<H3 align=center>Экзаменационное задание по курсу "Базы данных"<br>
Построение ИС с использованием базы данных MySQL</H3>


<P><H3>Задание</H3>



<H3>№ 1</H3>
<p>Создайте скрипт <b>ex1.php</b>, в котором в СУБД MySQL в базе данных <b>sample</b> 
с помощью функций РНР создайте таблицу <b>notebook</b>  
со следующими полями:<br>
<b>id</b> - целое, непустое, автоинкремент, первичный ключ,<br>
<b>name</b>  - строка переменной длины, но не более 50 символов,<br> 
<b>city</b> - строка переменной длины, но не более 50 символов,<br> 
<b>address</b> - строка переменной длины, но не более 50 символов,<br> 
<b>birthday</b> - значение даты (DATE), т.е. год, месяц и число,<br> 
<b>mail</b> - строка переменной длины, но не более 20 символов.

<p>Обязательно предусмотрите в случае ошибки вывод 
предупреждения: 
<br>"Нельзя создать таблицу notebook".

<p><u>Совет.</u> Перед командами создания таблицы добавьте две РНР-команды, в первой из 
которых содержится SQL-запрос, уничтожающий таблицу, если она уже есть:
<p>"DROP TABLE IF EXISTS notebook"
<p>- для того, чтобы при повторном выполнении скрипта  <b>ex1.php</b> не появлялось сообщения
об ошибке.
<p>(Использовать листинг 11-1).

<H3>№ 2</H3>
<p>Создайте скрипт <b>ex2.php</b> с HTML-формой для заполнения таблицы <b>notebook</b>:
<hr width="70%" align=left>
<p><img src="../ris/r9-2.gif">
<hr width="70%" align=left>

<p>Полями, обязательными для заполнения являются <b>name</b> и <b>mail</b>, т.е. только когда 
они не пустые, информация заносится в таблицу notebook.  
<p>(Использовать листинг 11-2).

<H3>№ 3</H3>

<p>Создайте скрипт <b>ex3.php</b> для вывода всех записей таблицы <b>notebook</b>. 

<p>В форме для заполнения таблицы ( <b>ex2.php</b>) введите дату с нарушением формата (или
вообще не число) и посмотрите, что будет занесено в таблицу.
<p>(Использовать листинг 11-3).

<H3>№ 4</H3>

<p>Создайте скрипт <b>ex4.php</b>, в котором: 

<p>1. Должна быть HTML-форма, выводящая все записи таблицы <b>notebook</b>, 
причем рядом с каждой строкой таблицы стоит радиокнопка для выбора 
той строки, в которой нужно что-то изменить:
<hr width="70%" align=left>
<p><img src="../ris/r9-4a.gif">
<hr width="70%" align=left>
<p>Имя этой группы радиокнопок - <b>id</b>, а 
передаваемое значение - соответствующее значение поля <b>id</b> таблицы <b>notebook</b>
(оно равно <b>$a_row[0]</b>). 

<p>2. Если значение переменной <b>$id</b> задано, вывести соответствующую строку таблицы
в виде выпадающего списка, а рядом текстовое поле для ввода нового значения:
<hr width="70%" align=left>
<p><img src="../ris/r9-4b.gif">
<hr width="70%" align=left>

<p>Под выпадающим списком стоит кнопка "Заменить":
<hr width="70%" align=left>
<p><img src="../ris/r9-4c.gif">
<hr width="70%" align=left>

<p>Имя элемента select в форме - <b>field_name</b>, имя текстового поля - <b>field_value</b>.
<p>В атрибуте VALUE элементов OPTION (выпадающего списка) значения укажите явно ('name', 'city' и т.д.).
<br>А на экране должны отображаться значения ассоциативного массива 
<br>$a_row['name']&nbsp;...&nbsp;$a_row['mail'].

<p><u>Совет.</u> В этой же форме добавьте еще скрытое поле 
<p>&lt;input type=hidden name=id value=$id&gt;
<p>чтобы не "потерять" значение пременной <b>$id</b>.

<p>3. Если  заданы значения переменных <b>$id</b> и <b>$field_name</b>,
обновите в таблице <b>notebook</b> значение поля <b>$field_name</b> 
на <b>$field_value</b> где <b>id='$id'</b>.

<p>Здесь же вставьте ссылку на файл <b>ex3.php</b>, чтобы увидеть результат 
(возможно придется дополнительно нажать кнопку "Обновить" браузера).


<p>(Использовать листинг 11-4).

<p>&nbsp;
<H3>№ 5</H3>

Создайте скрипт <b>ex5.php</b>, запустив который, пользователь вносит в таблицу notebook три записи 
(данные ввода  должны быть записаны  непосредственно в тексте скрипта <b>ex5.php</b> в командах INSERT), 
при этом в n-й по порядку записи ОБЯЗАТЕЛЬНО должны быть использованы реальные ФИО 
сдающего экзамен, где n – увеличенный на 1 остаток от деления последних 2 цифр 
пароля сдающего экзамен на 3 
(например, если 2 последней цифры пароля 09, то запись с ФИО сдающего экзамен должна быть 1-й). 

<p>&nbsp;
</BODY></HTML>
